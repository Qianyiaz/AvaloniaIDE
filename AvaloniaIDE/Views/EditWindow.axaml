<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="AvaloniaIDE.Views.EditWindow"
        xmlns:ale="using:AvaloniaEdit"
        xmlns:dha="using:DialogHostAvalonia"
        xmlns:vm="using:AvaloniaIDE.ViewModels"
        x:DataType="vm:EditWindowViewModel"
        Loaded="OnLoaded">

    <dha:DialogHost Name="DialogHost" CloseOnClickAway="True">
        <dha:DialogHost.DialogContent>
            <Panel Width="250" Height="80">
                <TextBlock
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Margin="8"
                    Text="Are you sure to delete it?" />

                <Button
                    Content="Delete"
                    Margin="8"
                    Background="Red"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Command="{Binding #DialogHost.CloseDialogCommand}"
                    CommandParameter="Yes" />
            </Panel>
        </dha:DialogHost.DialogContent>
        <Grid ColumnSpacing="5" ColumnDefinitions="250,4,*">
            <TreeView Name="FileTreeView" ItemsSource="{Binding FileTree}" SelectionChanged="FileTreeView_OnSelectionChanged">
                <TreeView.ContextFlyout>
                    <MenuFlyout>
                        <MenuItem Header="New File" />
                        <MenuItem Header="Rename" />
                        <MenuItem Header="Delete" Command="{Binding #DialogHost.OpenDialogCommand}" />
                    </MenuFlyout>
                </TreeView.ContextFlyout>
            </TreeView>

            <GridSplitter Grid.Column="1" Background="WhiteSmoke" ResizeDirection="Columns" />

            <ale:TextEditor
                Grid.Column="2"
                Name="Editor"
                Text="Hello AvaloniaEdit!"
                ShowLineNumbers="True"
                FontFamily="Cascadia Code,Consolas,Menlo,Monospace">
                <ale:TextEditor.ContextFlyout>
                    <MenuFlyout>
                        <MenuItem Header="Copy" InputGesture="ctrl+C" Command="{Binding #Editor.Copy}" />
                        <MenuItem Header="Cut" InputGesture="ctrl+X" Command="{Binding #Editor.Cut}" />
                        <MenuItem Header="Paste" InputGesture="ctrl+V" Command="{Binding #Editor.Paste}" />
                        <MenuItem Header="-" />
                        <MenuItem Header="Select All" InputGesture="ctrl+A" Command="{Binding #Editor.SelectAll}" />
                    </MenuFlyout>
                </ale:TextEditor.ContextFlyout>
            </ale:TextEditor>
        </Grid>
    </dha:DialogHost>
</Window>